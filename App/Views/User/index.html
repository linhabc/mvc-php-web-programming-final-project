<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Homepage</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/User/style.css" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
  <script src="js/User/index.js"></script>
</head>

<body>
  <header>
    <div class="left">
      <h3>Test <span>Yourself</span></h3>
    </div>
    <?php
    if (isset($user)) {
      # var_dump($user);
      setcookie("uid", $user["id"], time() + (86400 * 30), "/");
      setcookie("email", $user["email"], time() + (86400 * 30), "/");
      setcookie("username", $user["username"], time() + (86400 * 30), "/");
      setcookie("role", $user["role"], time() + (86400 * 30), "/");
      } ?>
    <div id="hello-username">Hello</div>
    <div class="right">
      <button class="logout-button" onclick="confirmLogout()"><img src="images/logout.svg">Logout</button>
    </div>
  </header>

  <div class="side-bar">
    <center>
      <img src="images/avatar_user.png" class="avatar" />
      <h4>User page</h4>
    </center>
    <a class="navLink active" href="?user/Users/index" onclick="return handleSideBarButton(event)"><i
        class="material-icons">dashboard</i><span>Dashboard</span></a>
    <a class="navLink" href="?user/QuickTest/index" onclick="return handleSideBarButton(event)"><i
        class="material-icons">account_box</i><span>Doing Quick Test</span></a>

    <!-- Bổ sung đường dẫn vào Doing Group Test dưới đây -->
    <a class="navLink" href="?user/GroupTest/index" onclick="return handleSideBarButton(event)">
      <i class="material-icons">chrome_reader_mode</i>
      <span>Doing Group Test</span></a>

    <!-- <a class="navLink" href="?user/CreateGroupTest/index" onclick="return handleSideBarButton(event)"><i
        class="material-icons">dns</i><span>Create Group Test</span></a> -->
    <a class="navLink" href="?user/ManageCustomTest/index" onclick="return handleSideBarButton(event)"><i
        class="material-icons">dvr</i><span>Custom Test</span></a>
    <a class="navLink" href="?user/ManagePersonalInfo/index" onclick="return handleSideBarButton(event)"><i
        class="material-icons">dvr</i><span>Personal Info</span></a>
    <a class="navLink" href="?user/ManageUserSetting/index" onclick="return handleSideBarButton(event)"><i
        class="material-icons">settings</i><span>Personal settings</span></a>
  </div>

  <div class="content" id="content">
    <div class="grid-container">
      <div class="grid-item" id="question" onclick="location.href = '?ManageQuestion/index'">
        <h2>
          <img src="images/question.svg" style="vertical-align: middle;">
          Question:
          <?php $length = count($questions); echo "$length"; ?>
        </h2>
      </div>
      <div class="grid-item" id="test" onclick="location.href = '?ManageTest/index'">
        <h2>
          <img src="images/test.svg" style="vertical-align: middle">
          Test:
          <?php $length = count($tests); echo "$length"; ?>
        </h2>
      </div>
      <div class="grid-item" id="topic" onclick="location.href = '?ManageTopic/index'">
        <h2>
          <img src="images/topic.svg" style="vertical-align: middle;">
          Topic:
          <?php $length = count($topics); echo "$length"; ?>
        </h2>
      </div>
      <div class="grid-item" id="comment" onclick="location.href = '?ManageComment/index'">
        <h2>
          <img src="images/comment.svg" style="vertical-align: middle;">
          Comment:
          <?php $length = count($comments); echo "$length"; ?>
        </h2>
      </div>
    </div>
  </div>

  <script src="js/index.js"></script>
  <script>
    var x = document.cookie;
    var username = getCookie("username");

    function confirmLogout() {
      var r = confirm("Are you sure you want to logout?");
      if (r == true) {
        location.href = "?Authentication/index";
      }
    }
    console.log(username);

    document.getElementById("hello-username").innerText =
      "Hello " + username + " ";
  </script>
</body>

</html>